1. 分别说说你对Springboot和SpringCloud的理解?[参考该文章](http://blog.cuicc.com/blog/2015/07/22/microservices/#fn1)

   springcloud是基于springboot实现的一套微服务框架。微服务架构是一种将一个单一应用程序开发为一组小型服务的方法，每个服务运行在自己的进程中，服务间通信采用轻量级通信机制(通常用HTTP资源API)。这些服务可以独立部署。springcloud是微服务架构的一种java实现，它提供了配置中心，注册中心，断路器，网关，等组件。和springboot配置使用，让开发微服务架构变得更简单。（springboot理解见springboot面试题）

2. 什么是分布式，分布式与集群关系、分布式和微服务的关系？

   * 分布式是指将若干个独立的服务(业务)部署在不同的服务器上，用户访问这些服务时，就像是在访问单个的系统。
   * 集群指的是将几台服务器集中在一起，实现同一个业务。
   * 微服务架构是一种将一个单一应用程序开发为一组小型服务的方法，每个服务运行在自己的进程中，服务间通信采用轻量级通信机制(通常用HTTP资源API)，这些服务可以独立部署。
   * 分布式和集群区别：分布式是不同机器不同业务，集群是同一个业务部署在多个机器上，分布式中的每一个节点都可以做集群，而集群并不一定就是分布式的。
   * 分布式和微服务区别:分布式属于微服务，二者的细微差别是微服务的应用不一定分散在多个服务器上，他也可以是同一个服务器，分布式和微服务的架构很相似，只是部署的方式不一样而已，微服务是一种特殊的分布式。

3. 为什么用微服务？微服务的优缺点？

   * 单一应用架构：当网站流量很小时，只需一个应用，将所有功能都部署在一起，以减少部署节点和成本。此时，用于简化增删改查工作量的***\*数据访问框架(ORM)是关键\****。

   * 垂直应用架构：当访问逐渐增大，单一应用增加解决问题容易到达瓶颈，将应用拆成互不相关的几个应用，以提升效率，此时加速前端页面开发的web框架是关键。（前台和后台独立部署。）

   * 分布式服务架构：当垂直应用越来越多，应用之间交互不可避免，将核心业务抽取出来，作为独立的服务，使前端应用能快速响应多变的需求。此时提高业务复用及整合的分布式框架是关键。

   * 流动计算架构：当服务越来越多，容量的评估，小服务资源的浪费等问题逐渐显现，此时需增加一个调度中心，基于访问压力实时管理集群容量，提高集群利用率。此时，用于提高机器利用率的资源调度和治理中心(SOA面向服务架构)是关键。

     [微服务的优缺点](https://blog.csdn.net/xiaojin21cen/article/details/107173333)

4. springcloud的常用注解？

   * @EnableDiscoveryClient，将服务注册到注册中心
   * @FeignClient 加在远程调用接口上，配置服务名进行远程调用
   * @EnableFeignClients 服务能够远程调用
   * @RefreshScope 不重启服务情况下动态刷新配置中心的更改

5. SpringCloud用到哪些组件？五大组件怎么用（结合项目去说）？

   * Nacos和Eureka通常被用来做注册中心，服务启动后在注册中心进行注册，注册之后通过配置中心Nacos或SpringCloud config拉取配置，考虑到服务鉴权以及跨域等问题使用网关Gateway或者Zuul进行拦截，当服务间进行相互间调用需要远程访问时使用OpenFeign，并使用Ribbon进行负载均衡，服务访问量较大和服务出现故障时需要使用hystrix或者sentinel进行限流、熔断和降级等操作。另外使用sleuth或者zipkin进行链路追踪。

6. 整个springcloud了解多少，说一下使用的情景？

7. 网关是怎么进行鉴权的？

8. 网关的作用是什么？

   * 网关的出现的原因是随着微服务的出现而出现，不同的微服务一般有不同的网络地址，客户端可能需要调用多个服务接口才能完成一个业务需求，如果让客户端和各个微服务直接通信会出现很多问题：
     * 客户端会多次请求不同的微服务，客户端的复杂性肯定会增加
     * 请求会存在跨域问题，在一定场景下处理相对复杂。
     * 认证复杂，每个服务都要独立的认证，代码冗余。
     * 难以重构，随着项目的迭代可能需要重新划分微服务，如果客户端和服务端直接通信，那么重构起来也一定很复杂。
   * 当有了网关就方便多了，网关是由java代码实现的（nginx是c语言实现，nginx实现较为复杂），介于客户端和服务端端之间的中间层，减少了前后端的依赖关系，网关主要的功能是路由转发和过滤器，可以根据配置指定的路由，路由到相应的服务，结合过滤器可以进行权限校验，限流（直接根据官网配置），和监控（结合过滤器在网关监控数据并推送到外部系统）

9. 网关和JWT结合，说一下流程？

10. openfeign远程调用怎么实现？有了解过底层原理吗？

    使用openfeign最佳实践，创建服务提供方接口工程，里面提供被调用的接口，然后服务方提供方和服务消费方都依赖该接口工程，在服务消费方创建远程调用接口继承接口工程提供的接口，再加上@FeignClinet注解和服务名即可调用。解决了创建冗余的实体类和依赖公共工程引入的冗余类问题。

11. openfeign远程调用需要加的注解是什么？

    主程序上加@EnableFeignClients,接口上加@FeignClient。

12. 注册中心用的什么，说说nacos的底层原理？

13. nacos怎么配置的？

14. 将nacos作为集群 是如果保证服务与服务之间通信的？

15. nacos高可用是怎么使用的，谁搭建的？

16. 你的微服务是怎么启动的？

    * 后台启动：nohup java -jar xxx.jar >logs.txt &
    * 关闭后台启动：一般都是脚本，ps -ef|grep xxx.jar  //jar包名字查询 然后通过进程号杀死进程 kill -9 xxx

16. rbac权限管理，分别对应什么含义？[参考文章](https://blog.csdn.net/lvshuocool/article/details/93968143)
    * RBAC模型（Role-Based Access Control:基于角色的访问控制），有三个基本组成部分，分别是：用户、角色和权限。
    * RBAC通过定义角色的权限，并对用户授予某个角色从而来控制用户的权限，实现用户和权限的逻辑分离（区别于ACL模型），极大地方便了权限的管理。
    * ACL模型：ACL是最早也是最基本的一种访问控制机制，它的原理非常简单：每一项资源，都配有一个列表，这个列表记录的就是哪些用户可以对这项资源执行CRUD中的那些操作。当系统试图访问这项资源时，会首先检查这个列表中是否有关于当前用户的访问权限，从而确定当前用户可否执行相应的操作。（ACL是一种面向资源的访问控制模型，它的机制是围绕“资源”展开的。）
17. rpc远程调用原理？
18. Dubbo和SpringCloud的区别？用过Dubbo吗？